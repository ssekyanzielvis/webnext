(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3],{3402:function(e,t,n){Promise.resolve().then(n.bind(n,9725))},9725:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return o}});var i=n(7437),a=n(2265),s=n(149);function o(){let e=(0,s.e)(),[t,n]=(0,a.useState)(""),[o,r]=(0,a.useState)({pending:0,assigned:0,in_transit:0,delivered:0});return(0,a.useEffect)(()=>{(async()=>{var t,i;let{data:{user:a}}=await e.auth.getUser();if(!a){window.location.href="/auth/login";return}let s=(null===(t=a.user_metadata)||void 0===t?void 0:t.role)||(null===(i=a.app_metadata)||void 0===i?void 0:i.role);if(n(s),"admin"!==s&&"other_admin"!==s){window.location.href="/";return}r(Object.fromEntries(await Promise.all(["pending","assigned","in_transit","delivered"].map(async t=>{let{count:n}=await e.from("consignments").select("*",{count:"exact",head:!0}).eq("status",t);return[t,null!=n?n:0]}))))})()},[e]),(0,i.jsxs)("main",{className:"max-w-6xl mx-auto px-4 py-6",children:[(0,i.jsxs)("header",{className:"card p-6 mb-6 bg-gradient-to-br from-primary to-blue-500 text-white",children:[(0,i.jsx)("div",{className:"text-lg font-bold",children:"Admin Dashboard"}),(0,i.jsx)("div",{className:"text-sm opacity-80",children:"System overview and management"})]}),(0,i.jsxs)("section",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,i.jsx)(c,{title:"Pending",value:o.pending}),(0,i.jsx)(c,{title:"Assigned",value:o.assigned}),(0,i.jsx)(c,{title:"In Transit",value:o.in_transit}),(0,i.jsx)(c,{title:"Delivered",value:o.delivered})]})]})}function c(e){let{title:t,value:n}=e;return(0,i.jsxs)("div",{className:"card p-4",children:[(0,i.jsx)("div",{className:"text-sm text-neutral-600",children:t}),(0,i.jsx)("div",{className:"text-2xl font-bold",children:n})]})}},149:function(e,t,n){"use strict";n.d(t,{e:function(){return s}});var i=n(1388);let a=null;function s(){if(a)return a;let e="https://awjryaofcfuhyofqfixo.supabase.co",t="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImF3anJ5YW9mY2Z1aHlvZnFmaXhvIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTc0MzA5MjYsImV4cCI6MjA3MzAwNjkyNn0.3ccRaiv7odT4xL6jI0f5dV9BrMnZw8LUeofJZ0ZOo5c";if(!e||!t)throw Error("Missing Supabase envs");return a=(0,i.createBrowserClient)(e,t,{cookies:{getAll:async()=>"undefined"==typeof document?[]:document.cookie.split(";").map(e=>e.trim()).filter(Boolean).map(e=>{let t=e.indexOf("=");return{name:t>=0?decodeURIComponent(e.slice(0,t)):e,value:t>=0?decodeURIComponent(e.slice(t+1)):""}}),setAll:async e=>(function(e){if("undefined"!=typeof document)for(let{name:t,value:n,options:i}of e){let e="".concat(encodeURIComponent(t),"=").concat(encodeURIComponent(n));i&&(i.maxAge&&(e+="; Max-Age=".concat(i.maxAge)),i.expires&&(e+="; Expires=".concat(new Date(i.expires).toUTCString())),i.path&&(e+="; Path=".concat(i.path)),i.domain&&(e+="; Domain=".concat(i.domain)),i.sameSite&&(e+="; SameSite=".concat(i.sameSite)),i.secure&&(e+="; Secure")),document.cookie=e}})(e)}})}}},function(e){e.O(0,[1388,2971,2117,1744],function(){return e(e.s=3402)}),_N_E=e.O()}]);