(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7734],{9404:function(e,t,n){Promise.resolve().then(n.bind(n,3547))},3547:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i}});var c=n(7437),a=n(2265),s=n(149);function i(){let e=(0,s.e)(),[t,n]=(0,a.useState)([]),[i,o]=(0,a.useState)(!0),[r,l]=(0,a.useState)(null),m=(0,a.useCallback)(async()=>{o(!0);let{data:t,error:c}=await e.from("fuel_card_lockers").select("*").order("name");c?l(c.message):n(t),o(!1)},[e]);async function u(){let t=prompt("Locker name?")||"",n=prompt("Location?")||"",c=Number(prompt("Capacity?")||"0");if(!t.trim())return;let{error:a}=await e.from("fuel_card_lockers").insert({name:t,location:n,capacity:c});a?l(a.message):m()}async function d(t){if(!confirm("Delete this locker?"))return;let{error:n}=await e.from("fuel_card_lockers").delete().eq("id",t);n?l(n.message):m()}return(0,a.useEffect)(()=>{m()},[m]),(0,c.jsxs)("main",{className:"max-w-4xl mx-auto px-4 py-6",children:[(0,c.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,c.jsx)("h1",{className:"text-xl font-bold",children:"Fuel Card Lockers"}),(0,c.jsx)("button",{className:"btn-primary",onClick:u,children:"Add Locker"})]}),r&&(0,c.jsx)("div",{className:"text-sm text-red-600 mb-3",children:r}),i?(0,c.jsx)("div",{children:"Loading..."}):(0,c.jsx)("ul",{className:"space-y-3",children:t.map(e=>{var t;return(0,c.jsxs)("li",{className:"card p-4 flex items-center justify-between",children:[(0,c.jsxs)("div",{children:[(0,c.jsx)("div",{className:"font-semibold",children:e.name}),(0,c.jsxs)("div",{className:"text-sm text-neutral-600",children:[e.location," • Cap: ",e.capacity," • In use: ",null!==(t=e.current_occupancy)&&void 0!==t?t:0]})]}),(0,c.jsx)("button",{className:"px-3 py-1 rounded-md bg-neutral-100",onClick:()=>d(e.id),children:"Delete"})]},e.id)})})]})}},149:function(e,t,n){"use strict";n.d(t,{e:function(){return s}});var c=n(1388);let a=null;function s(){if(a)return a;let e="https://awjryaofcfuhyofqfixo.supabase.co",t="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImF3anJ5YW9mY2Z1aHlvZnFmaXhvIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTc0MzA5MjYsImV4cCI6MjA3MzAwNjkyNn0.3ccRaiv7odT4xL6jI0f5dV9BrMnZw8LUeofJZ0ZOo5c";if(!e||!t)throw Error("Missing Supabase envs");return a=(0,c.createBrowserClient)(e,t,{cookies:{getAll:async()=>"undefined"==typeof document?[]:document.cookie.split(";").map(e=>e.trim()).filter(Boolean).map(e=>{let t=e.indexOf("=");return{name:t>=0?decodeURIComponent(e.slice(0,t)):e,value:t>=0?decodeURIComponent(e.slice(t+1)):""}}),setAll:async e=>(function(e){if("undefined"!=typeof document)for(let{name:t,value:n,options:c}of e){let e="".concat(encodeURIComponent(t),"=").concat(encodeURIComponent(n));c&&(c.maxAge&&(e+="; Max-Age=".concat(c.maxAge)),c.expires&&(e+="; Expires=".concat(new Date(c.expires).toUTCString())),c.path&&(e+="; Path=".concat(c.path)),c.domain&&(e+="; Domain=".concat(c.domain)),c.sameSite&&(e+="; SameSite=".concat(c.sameSite)),c.secure&&(e+="; Secure")),document.cookie=e}})(e)}})}}},function(e){e.O(0,[1388,2971,2117,1744],function(){return e(e.s=9404)}),_N_E=e.O()}]);