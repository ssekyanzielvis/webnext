(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3453],{4489:function(e,t,n){Promise.resolve().then(n.bind(n,1110))},1110:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return c}});var i=n(7437),a=n(2265),s=n(149);function c(){var e,t,n;let c=(0,s.e)(),[r,o]=(0,a.useState)(null),[d,u]=(0,a.useState)(null),[m,f]=(0,a.useState)(null);return(0,a.useEffect)(()=>{(async()=>{let{data:{user:e}}=await c.auth.getUser();if(!e){window.location.href="/auth/login";return}let{count:t}=await c.from("consignments").select("*",{count:"exact",head:!0}).is("driver_id",null).eq("status","pending");o(null!=t?t:0);let{count:n}=await c.from("consignments").select("*",{count:"exact",head:!0}).eq("driver_id",e.id).in("status",["assigned","in_transit"]);u(null!=n?n:0);let{count:i}=await c.from("consignments").select("*",{count:"exact",head:!0}).eq("driver_id",e.id).eq("status","delivered");f(null!=i?i:0)})()},[c]),(0,i.jsxs)("main",{className:"max-w-6xl mx-auto px-4 py-6",children:[(0,i.jsxs)("header",{className:"card p-6 mb-6 bg-gradient-to-br from-primary to-blue-500 text-white",children:[(0,i.jsx)("div",{className:"text-lg font-bold",children:"Welcome, Driver"}),(0,i.jsx)("div",{className:"text-sm opacity-80",children:"Ready to make deliveries today?"})]}),(0,i.jsxs)("section",{children:[(0,i.jsx)("h2",{className:"text-xl font-bold mb-3",children:"Today's Overview"}),(0,i.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[(0,i.jsx)(l,{title:"Available Jobs",value:null!==(e=null==r?void 0:r.toString())&&void 0!==e?e:"...",color:"from-blue-500 to-blue-600",icon:"\uD83D\uDE9A"}),(0,i.jsx)(l,{title:"My Deliveries",value:null!==(t=null==d?void 0:d.toString())&&void 0!==t?t:"...",color:"from-orange-500 to-orange-600",icon:"\uD83D\uDCE6"}),(0,i.jsx)(l,{title:"Completed Today",value:null!==(n=null==m?void 0:m.toString())&&void 0!==n?n:"...",color:"from-green-500 to-green-600",icon:"âœ…"})]})]}),(0,i.jsxs)("section",{className:"mt-6",children:[(0,i.jsx)("h2",{className:"text-xl font-bold mb-3",children:"Quick Actions"}),(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,i.jsx)("a",{className:"card",href:"/driver/available",children:"Available Consignments"}),(0,i.jsx)("a",{className:"card",href:"/driver/deliveries",children:"My Deliveries"}),(0,i.jsx)("a",{className:"card",href:"/driver/delivery-notes",children:"Delivery Notes"}),(0,i.jsx)("a",{className:"card",href:"/driver/fuel-transactions",children:"Fuel Transactions"}),(0,i.jsx)("a",{className:"card",href:"/driver/fuel-card",children:"My Fuel Card"}),(0,i.jsx)("a",{className:"card",href:"/driver/location",children:"Share Live Location"})]})]})]})}function l(e){let{title:t,value:n,color:a,icon:s}=e;return(0,i.jsxs)("div",{className:"card p-4 text-white bg-gradient-to-br ".concat(a),children:[(0,i.jsx)("div",{className:"text-3xl",children:s}),(0,i.jsx)("div",{className:"text-2xl font-bold",children:n}),(0,i.jsx)("div",{className:"opacity-90",children:t})]})}},149:function(e,t,n){"use strict";n.d(t,{e:function(){return s}});var i=n(1388);let a=null;function s(){if(a)return a;let e="https://awjryaofcfuhyofqfixo.supabase.co",t="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImF3anJ5YW9mY2Z1aHlvZnFmaXhvIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTc0MzA5MjYsImV4cCI6MjA3MzAwNjkyNn0.3ccRaiv7odT4xL6jI0f5dV9BrMnZw8LUeofJZ0ZOo5c";if(!e||!t)throw Error("Missing Supabase envs");return a=(0,i.createBrowserClient)(e,t,{cookies:{getAll:async()=>"undefined"==typeof document?[]:document.cookie.split(";").map(e=>e.trim()).filter(Boolean).map(e=>{let t=e.indexOf("=");return{name:t>=0?decodeURIComponent(e.slice(0,t)):e,value:t>=0?decodeURIComponent(e.slice(t+1)):""}}),setAll:async e=>(function(e){if("undefined"!=typeof document)for(let{name:t,value:n,options:i}of e){let e="".concat(encodeURIComponent(t),"=").concat(encodeURIComponent(n));i&&(i.maxAge&&(e+="; Max-Age=".concat(i.maxAge)),i.expires&&(e+="; Expires=".concat(new Date(i.expires).toUTCString())),i.path&&(e+="; Path=".concat(i.path)),i.domain&&(e+="; Domain=".concat(i.domain)),i.sameSite&&(e+="; SameSite=".concat(i.sameSite)),i.secure&&(e+="; Secure")),document.cookie=e}})(e)}})}}},function(e){e.O(0,[1388,2971,2117,1744],function(){return e(e.s=4489)}),_N_E=e.O()}]);