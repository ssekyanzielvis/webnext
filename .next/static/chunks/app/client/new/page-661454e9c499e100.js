(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9596],{1737:function(e,t,n){Promise.resolve().then(n.bind(n,2082))},2082:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return c}});var i=n(7437),a=n(2265),s=n(149);function c(){let e=(0,s.e)(),[t,n]=(0,a.useState)({pickup:"",delivery:"",description:"",weight:"",instructions:""}),[c,l]=(0,a.useState)(!1),[u,d]=(0,a.useState)(null);async function m(i){i.preventDefault(),l(!0),d(null);let{data:{user:a}}=await e.auth.getUser();if(!a){window.location.href="/auth/login";return}let s={id:crypto.randomUUID(),client_id:a.id,pickup_location:t.pickup.trim(),delivery_location:t.delivery.trim(),item_description:t.description.trim(),weight:parseFloat(t.weight),status:"pending",special_instructions:t.instructions.trim()||null,created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{error:c}=await e.from("consignments").insert(s);c?d(c.message):d("Consignment created successfully!"),l(!1),c||n({pickup:"",delivery:"",description:"",weight:"",instructions:""})}return(0,i.jsxs)("main",{className:"max-w-2xl mx-auto px-4 py-6",children:[(0,i.jsx)("h1",{className:"text-xl font-bold mb-4",children:"Create Consignment"}),(0,i.jsxs)("form",{onSubmit:m,className:"card p-4 space-y-4",children:[u&&(0,i.jsx)("div",{className:"text-sm ".concat(u.includes("successfully")?"text-green-600":"text-red-600"),children:u}),(0,i.jsx)(o,{label:"Pickup Location",value:t.pickup,onValueChange:e=>n(t=>({...t,pickup:e})),required:!0}),(0,i.jsx)(o,{label:"Delivery Location",value:t.delivery,onValueChange:e=>n(t=>({...t,delivery:e})),required:!0}),(0,i.jsx)(r,{label:"Item Description",value:t.description,onValueChange:e=>n(t=>({...t,description:e})),required:!0}),(0,i.jsx)(o,{label:"Weight (kg)",type:"number",value:t.weight,onValueChange:e=>n(t=>({...t,weight:e})),required:!0}),(0,i.jsx)(r,{label:"Special Instructions (Optional)",value:t.instructions,onValueChange:e=>n(t=>({...t,instructions:e}))}),(0,i.jsx)("button",{className:"btn-primary",disabled:c,children:c?"Creating...":"Create Consignment"})]})]})}function o(e){let{label:t,onValueChange:n,...a}=e;return(0,i.jsxs)("label",{className:"block",children:[(0,i.jsx)("span",{className:"text-sm text-muted-500",children:t}),(0,i.jsx)("input",{...a,onChange:e=>null==n?void 0:n(e.target.value),className:"mt-1 w-full border rounded-md px-3 py-2"})]})}function r(e){let{label:t,onValueChange:n,...a}=e;return(0,i.jsxs)("label",{className:"block",children:[(0,i.jsx)("span",{className:"text-sm text-muted-500",children:t}),(0,i.jsx)("textarea",{...a,onChange:e=>null==n?void 0:n(e.target.value),className:"mt-1 w-full border rounded-md px-3 py-2",rows:3})]})}},149:function(e,t,n){"use strict";n.d(t,{e:function(){return s}});var i=n(1388);let a=null;function s(){if(a)return a;let e="https://awjryaofcfuhyofqfixo.supabase.co",t="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImF3anJ5YW9mY2Z1aHlvZnFmaXhvIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTc0MzA5MjYsImV4cCI6MjA3MzAwNjkyNn0.3ccRaiv7odT4xL6jI0f5dV9BrMnZw8LUeofJZ0ZOo5c";if(!e||!t)throw Error("Missing Supabase envs");return a=(0,i.createBrowserClient)(e,t,{cookies:{getAll:async()=>"undefined"==typeof document?[]:document.cookie.split(";").map(e=>e.trim()).filter(Boolean).map(e=>{let t=e.indexOf("=");return{name:t>=0?decodeURIComponent(e.slice(0,t)):e,value:t>=0?decodeURIComponent(e.slice(t+1)):""}}),setAll:async e=>(function(e){if("undefined"!=typeof document)for(let{name:t,value:n,options:i}of e){let e="".concat(encodeURIComponent(t),"=").concat(encodeURIComponent(n));i&&(i.maxAge&&(e+="; Max-Age=".concat(i.maxAge)),i.expires&&(e+="; Expires=".concat(new Date(i.expires).toUTCString())),i.path&&(e+="; Path=".concat(i.path)),i.domain&&(e+="; Domain=".concat(i.domain)),i.sameSite&&(e+="; SameSite=".concat(i.sameSite)),i.secure&&(e+="; Secure")),document.cookie=e}})(e)}})}}},function(e){e.O(0,[1388,2971,2117,1744],function(){return e(e.s=1737)}),_N_E=e.O()}]);