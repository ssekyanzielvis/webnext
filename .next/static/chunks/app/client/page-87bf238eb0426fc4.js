(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8394],{4627:function(e,t,n){Promise.resolve().then(n.bind(n,6971))},6971:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return a}});var i=n(7437),o=n(2265),c=n(149),r=n(7648);function a(){var e,t;let n=(0,c.e)(),[r,a]=(0,o.useState)(null),[d,u]=(0,o.useState)(null),[m,f]=(0,o.useState)(null);return(0,o.useEffect)(()=>{(async()=>{let{data:{user:e}}=await n.auth.getUser();if(!e){window.location.href="/auth/login";return}let{data:t}=await n.from("users").select("*").eq("id",e.id).maybeSingle();t&&a(t);let{count:i}=await n.from("consignments").select("*",{count:"exact",head:!0}).eq("client_id",e.id).in("status",["pending","assigned","in_transit"]);u(null!=i?i:0);let{count:o}=await n.from("consignments").select("*",{count:"exact",head:!0}).eq("client_id",e.id).eq("status","delivered");f(null!=o?o:0)})()},[n]),(0,i.jsxs)("main",{className:"max-w-6xl mx-auto px-4 py-6",children:[(0,i.jsxs)("header",{className:"card p-6 mb-6 bg-gradient-to-br from-primary to-blue-500 text-white",children:[(0,i.jsxs)("div",{className:"text-lg font-bold",children:["Welcome",(null==r?void 0:r.full_name)?", ".concat(r.full_name):""]}),(0,i.jsx)("div",{className:"text-sm opacity-80",children:"Track and manage your deliveries"})]}),(0,i.jsxs)("section",{children:[(0,i.jsx)("h2",{className:"text-xl font-bold mb-3",children:"Quick Actions"}),(0,i.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[(0,i.jsx)(s,{title:"Create New Order",href:"/client/new",color:"from-green-500 to-green-600",icon:"➕"}),(0,i.jsx)(s,{title:"Track Order",href:"/client/track",color:"from-blue-500 to-blue-600",icon:"\uD83C\uDFAF"}),(0,i.jsx)(l,{title:"Active Orders",value:null!==(e=null==d?void 0:d.toString())&&void 0!==e?e:"...",color:"from-orange-500 to-orange-600",icon:"\uD83D\uDCCB"}),(0,i.jsx)(l,{title:"Completed Orders",value:null!==(t=null==m?void 0:m.toString())&&void 0!==t?t:"...",color:"from-purple-500 to-purple-600",icon:"✅"}),(0,i.jsx)(s,{title:"Order History",href:"/client/orders",color:"from-amber-500 to-amber-600",icon:"\uD83D\uDD58"}),(0,i.jsx)(s,{title:"Support",href:"/client/support",color:"from-red-500 to-red-600",icon:"\uD83C\uDD98"})]})]})]})}function l(e){let{title:t,value:n,color:o,icon:c}=e;return(0,i.jsxs)("div",{className:"card p-4 text-white bg-gradient-to-br ".concat(o),children:[(0,i.jsx)("div",{className:"text-3xl",children:c}),(0,i.jsx)("div",{className:"text-2xl font-bold",children:n}),(0,i.jsx)("div",{className:"opacity-90",children:t})]})}function s(e){let{title:t,href:n,color:o,icon:c}=e;return(0,i.jsxs)(r.default,{href:n,className:"card p-4 text-white bg-gradient-to-br ".concat(o),children:[(0,i.jsx)("div",{className:"text-3xl",children:c}),(0,i.jsx)("div",{className:"font-bold",children:t})]})}},149:function(e,t,n){"use strict";n.d(t,{e:function(){return c}});var i=n(1388);let o=null;function c(){if(o)return o;let e="https://awjryaofcfuhyofqfixo.supabase.co",t="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImF3anJ5YW9mY2Z1aHlvZnFmaXhvIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTc0MzA5MjYsImV4cCI6MjA3MzAwNjkyNn0.3ccRaiv7odT4xL6jI0f5dV9BrMnZw8LUeofJZ0ZOo5c";if(!e||!t)throw Error("Missing Supabase envs");return o=(0,i.createBrowserClient)(e,t,{cookies:{getAll:async()=>"undefined"==typeof document?[]:document.cookie.split(";").map(e=>e.trim()).filter(Boolean).map(e=>{let t=e.indexOf("=");return{name:t>=0?decodeURIComponent(e.slice(0,t)):e,value:t>=0?decodeURIComponent(e.slice(t+1)):""}}),setAll:async e=>(function(e){if("undefined"!=typeof document)for(let{name:t,value:n,options:i}of e){let e="".concat(encodeURIComponent(t),"=").concat(encodeURIComponent(n));i&&(i.maxAge&&(e+="; Max-Age=".concat(i.maxAge)),i.expires&&(e+="; Expires=".concat(new Date(i.expires).toUTCString())),i.path&&(e+="; Path=".concat(i.path)),i.domain&&(e+="; Domain=".concat(i.domain)),i.sameSite&&(e+="; SameSite=".concat(i.sameSite)),i.secure&&(e+="; Secure")),document.cookie=e}})(e)}})}},7648:function(e,t,n){"use strict";n.d(t,{default:function(){return o.a}});var i=n(2972),o=n.n(i)}},function(e){e.O(0,[1388,2972,2971,2117,1744],function(){return e(e.s=4627)}),_N_E=e.O()}]);